The MLX has some wierd behavior.
if mlx_loop_end is used to end mlx_loop  
it will segfault if mlx_loop_hook is not present
